---
description: Define lab metadata fields and required values for CI/CD export; enforce examples and accepted formats
globs: [".ctf/metadata.json", ".ctf/LIBRARY_PAGE.md", ".ctf/context/SCENARIO.md", ".ctf/context/FLAG.md"]
alwaysApply: true
---

# METADATA

## Purpose
- Standardize lab metadata for deployment and platform consumption.
- Enforce required fields, formats, and provide examples for each part.

## Required Fields

- Project name
  - Description: Short identifier for Git/registry publishing (not a literal value).
  - Example: `cyberlabs-swaggerapi-prototype-pollution`

- slug
  - Description: URL-safe unique identifier for the lab.
  - Value: `swaggerapi-prototype-pollution`
  - Example: `sql-injection-basic`, `swaggerapi-prototype-pollution`

- title
  - Description: Human-readable lab title.
  - Example: `SwaggerApi prototype pollution`

- description
  - Description: Short paragraph describing the lab’s exploit objective.
  - Example: `The primary objective involves exploiting this architectural weakness to circumvent authentication mechanisms and gain unauthorized access to privileged administrative resources. The ultimate goal is to retrieve the manager account credentials through advanced prototype manipulation techniques.`

- category
  - Allowed: `web`
  - Example: `web`

- difficulty
  - Allowed numeric scale: Easy = 1, Medium = 2, Hard = 3
  - Example: `2`

- flag
  - Description: Concrete flag value used for validation (string).
  - Example: `flag{static_flag}`

- flag_format
  - Description: Allowed formats for the flag; one of the following examples:
  - Examples: `(numéro +3360000000, flag{static_flag}, static, admin password, manager password , example@example.com )`

- points
  - Integer score for the lab.
  - Value: `100`

- question
  - Description: Player-facing challenge question.
  - Example: `What is the password of the account manager?`

## Example JSON (.ctf/metadata.json)

```json
{
  "project_name": "cyberlabs-swaggerapi-prototype-pollution",
  "slug": "swaggerapi-prototype-pollution",
  "title": "SwaggerApi prototype pollution",
  "description": "The primary objective involves exploiting this architectural weakness to circumvent authentication mechanisms and gain unauthorized access to privileged administrative resources. The ultimate goal is to retrieve the manager account credentials through advanced prototype manipulation techniques.",
  "category": "web",
  "difficulty": 2,
  "flag": "flag{static_flag}",
  "flag_format": "(numéro +3360000000, flag{static_flag}, static, admin password, manager password , example@example.com )",
  "points": 100,
  "question": "What is the password of the account manager?"
}
```

## Acceptance Criteria
- All fields above are present in `.ctf/metadata.json` and match allowed formats.
- `slug` is kebab-case and unique per repository.
- `difficulty` is 1, 2, or 3 only.
- `points` is a positive integer.
- `flag` matches one of the formats declared in `flag_format`.


